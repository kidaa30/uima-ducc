<html>
  <!--
   ***************************************************************
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   * 
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   ***************************************************************
   -->
<head>
  <title>Apache Distributed UIMA Cluster Computing (DUCC) 2.0.0 Release Notes</title>
</head>
<body>
<h1>Apache UIMA-DUCC (Unstructured Information Management Architecture - Distributed UIMA Cluster Computing ) v.2.0.0 Release Notes</h1>

<h2>Contents</h2>
<p>
<a href="#what.is.uima-ducc">1. What is UIMA-DUCC?</a><br/>
<a href="#major.changes">2. Major Changes in this Release</a><br/>
<a href="#limitations">3. Limitations in this Release</a><br/>
</p>  
   
<h2><a name="what.is.uima-ducc">1. What is UIMA-DUCC?</a></h2>
<p>
  			DUCC stands for Distributed UIMA Cluster Computing. DUCC is a cluster management system providing tooling,
management, and scheduling facilities to automate the scale-out of applications written to the UIMA framework.
Core UIMA provides a generalized framework for applications that process unstructured information such as human
language, but does not provide a scale-out mechanism. UIMA-AS provides a scale-out mechanism to distribute UIMA
pipelines over a cluster of computing resources, but does not provide job or cluster management of the resources.
DUCC defines a formal job model that closely maps to a standard UIMA pipeline. Around this job model DUCC
provides cluster management services to automate the scale-out of UIMA pipelines over computing clusters.
</p>
      
<h2><a name="major.changes">2. Major Changes in this Release</a></h2>
<p>
UIMA DUCC 2.0.0 Apache is a major release containing new features and bug fixes. What's new:<br>

<h3>2.1 Non-preemptive (NP) work loads</h3>
In order to prevent the cluster from being filled with non-preemptable (NP) allocations, users will 
have a limit of 360GB total NP resources. This will motivate users to allocate work in 
fair-share, preemptable classes, and to move any services supporting other users to be 
owned by a group user like emrauser, dsemuser, etc.
There is also a change in behavior for NP allocations that cannot be filled. An example 
would be a training step or a java-viaducc submission. Previously these submissions 
failed, now these submissions are queued. NP class submissions that exceed a user's 
allotment (or cluster availability) will queue up until they can be run. Submissions 
that cannot be run because the cluster does not have any machine which can satisfy 
the request will also queue. <br>
Reservations from the web page or from the CLI ducc_reserve will be limited to a single 
instance in a reserve class. That is, each reservation must be for an entire machine.

<h3>2.2 Classpath isolation</h3> 
User's code now runs with only the classpath it supplies. That includes all UIMA jars and 
any additional 3rd party jars that are required. This will affect any jobs utilizing UIMA-AS 
services, "DD jobs" and UIMA-AS services themselves.

<h3>2.3 DUCC error handler </h3>
The interface to this optional capability has changed. 

<h3>2.4 Java Process (JP) pulls Work Items (WIs) from a Job Driver (JD) via HTTP </h3>
JP no longer uses ActiveMQ for receiving WIs for processing. Instead it uses HTTP to 
pull WIs from its JD.

<h3>2.5 DUCC flow controller typesystem </h3>
The original name of the flow controller typesystem file has been deprecated. The old 
version will remain available for now. 

For the future, please make the following change to CR/CM/CC components using this typesystem: 
change 
<import name="org.apache.uima.ducc.common.uima.DuccJobFlowControlTS"/> 
to 
<import name="org.apache.uima.ducc.FlowControllerTS"/> 


For a complete list of issues fixed and up-to-date information on UIMA-DUCC issues, see our issue tracker: 
<a href="https://issues.apache.org/jira/issues/?jql=project%20%3D%20UIMA%20AND%20fixVersion%20%3D%20%222.0.0-Ducc%22%20ORDER%20BY%20key%20ASC">https://issues.apache.org/jira/issues/?jql=project%20%3D%20UIMA%20AND%20fixVersion%20%3D%20%222.0.0-Ducc%22%20ORDER%20BY%20key%20ASC</a>
</p> 
      
<h2><a name="limitations">3. Limitations in this Release</a></h2>
<h3>3.1 FireFox memory bloat</h3>
<p>
DUCC's Web Server comprises a javascript that provides the ability 
to monitor various aspects of the DUCC system via a browser.
It has been occasionally observed for a browser that if several tabs
are simultaneously activated, each containing an "Automatic" monitor
of one aspect of the DUCC system, then over a relatively long period
of time (on the order of days) the browser process may consume a large
amount of memory (on the order of several GB).
At the time of this writing, this problem is not reliably reproduced.
This limitation has not been observed when in "Manual" monitoring mode.
The memory bloat has only been observed on Firefox browser.
</p>


</body>
</html>
